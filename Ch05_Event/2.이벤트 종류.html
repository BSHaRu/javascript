<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <title>2.이벤트 종류</title>
    <style>
        html{
            width: 100%;
            height: 2000px;
        }

        #content1 > p:nth-child(2){
            /* 화면 고정 */
            position: fixed;
            right: 40px;
            top: 40px;
        }

        #btnTop{
            width: 50px;
            height: 50px;
            border: 1px solid #8972ee;
            border-radius: 90%;
            background-color: #8972ee;
            cursor: pointer;
        }

        .box{
            display: inline-block;
            width: 100px;
            height: 100px;
            border: 1px solid #800080;
            box-sizing: border-box;
        }
    </style>
    
    <script>
        console.log("here1");

        /* 이 시점에는 btnTop태그를 가진게 없기 때문에 실행x
        let btnTop = document.getElementById("btnTop");
        btnTop.onclick = () => alert("click");
        */

        // onload : HTML 문서를 모두 로딩 한 후에 실행
        window.onload = function(){
            console.log("here2");

            let btnTop = document.getElementById("btnTop");
            // 스크롤 상단으로 바로 이동 버튼
            btnTop.onclick = () => {
                // 클릭 했을 때 스크롤 좌표 0,0으로 만듬
                window.scrollTo(0,0);
            }

            // 마우스 이벤트
            let box = document.getElementsByClassName("box");

            box[0].addEventListener("click", function(){
                this.style.background = "#8a2be2";
            });
            box[1].addEventListener("mousedown", function(){
                this.style.background = "#f0a957";
            });
            box[2].addEventListener("mouseup", function(){
                this.style.backgroundColor = "#000080";
            });
            // 마우스를 올렸을 때 이벤트 발생
            box[3].addEventListener("mouseover", function(){
                this.style.backgroundColor = "#800080";
            });
            // 마우스가 벗어났을 때 이벤트 발생
            box[4].addEventListener("mouseout", function(){
                this.style.backgroundColor = "#467ec6";
            });
            box[5].addEventListener("mouseover", function(){
                this.style.backgroundColor = "#85ac20";
            });
            box[5].addEventListener("mouseout", function(){
                this.style.backgroundColor = "#eee6e4";
            });
            box[6].addEventListener("mousemove", function(){
                console.log("mousemove!");
            }); // mouse event end

            // 키보드 이벤트
            let inputUser = document.getElementsByName("user")[0];
            let inputName = document.getElementsByName("name")[0];
            let result = document.getElementsByClassName("result");

            inputUser.addEventListener("keydown", function(){
                console.log("keydown");
                let value = this.value;
                result[0].innerText = value;
            });

            inputName.addEventListener("keyup", function(){
                console.log("keyup");
                let value = this.value;
                result[1].innerText = value;
            }); 

            // 폼 이벤트
            let form = document.querySelector("form");
            let inputUid = document.getElementsByName("uid")[0];
            let inputPass = document.getElementsByName("pass")[0];
            let selectAddr = document.getElementsByName("addr")[0];
            let print = document.getElementsByClassName("print");

            inputUid.addEventListener("focus", function(){
                console.log("focus");
                print[0].innerText = "focus!";
            });            
            inputPass.addEventListener("focusout", function(){
                console.log("focusout");
                print[1].innerText = "focusout!";
            });            
            selectAddr.addEventListener("change", function(){
                console.log("change");
                print[2].innerText = this.value;
            });            
            form.addEventListener("submit", function(){
                console.log("submit");
                alert("전송 시작");
            });            


        }; // onload end

        // onresize : 브라우저 창 크기가 바뀔 때 실행
        window.onresize = () => {
            console.log("resize");

            // 여기서 this는 이벤트 주체 즉, window를 의미
            let w = this.innerWidth;
            let h = this.innerHeight;

            let content1 = document.getElementById("content1");
            let span = content1.getElementsByTagName("span");
            span[0].innerText = w;
            span[1].innerText = h;
        };

        // onscroll : 브라우저 스크롤 이동 할 때 실행
        window.onscroll = () => {
            console.log("scroll");

            let top = this.scrollY;
            let content1 = document.getElementById("content1");
            let span = content1.getElementsByTagName("span");
            span[2].innerText = top;
        }

    </script>
</head>
<body>
    <h3>2.이벤트 종류</h3>

    <h4>문서 이벤트</h4>
    <div id="content1">
        <p>
            가로 : <span>0</span><br/>
            세로 : <span>0</span><br/>
        </p>
        <p>
            위치 : <span>0</span><br/>
            <button id="btnTop">상단 이동</button>
        </p>
    </div>

    <h4>마우스 이벤트</h4>
    <div id="content2">
        <div class="box box1">click</div>
        <div class="box box2">mousedown</div>
        <div class="box box3">mouseup</div>
        <div class="box box4">mouseover</div>
        <div class="box box5">mouseout</div>
        <div class="box box6">hover</div>
        <div class="box box7">mousemove</div>
    </div>

    <h4>키보드 이벤트</h4>
    <div id="content3">
        <p>
            <input type="text" name="user">
            <span class="result"></span>
        </p>
        <p>
            <input type="text" name="name">
            <span class="result"></span>
        </p>
    </div>

    <h4>폼 이벤트</h4>
    <div id="content4">
        <form action="#">
            <p>
                <input type="text" name="uid">
                <span class="print"></span>
            </p>
            <p>
                <input type="text" name="pass">
                <span class="print"></span>
            </p>
            <p>
                <select name="addr">
                    <option value="">서울</option>
                    <option value="">대전</option>
                    <option value="">대구</option>
                    <option value="">부산</option>
                    <option value="">광주</option>
                </select>
                <span class="print"></span>
            </p>
            <input type="submit" value="전송">
        </form>
    </div>

    <script>
        console.log("here3");
    </script>

</body>
</html>
<script>
    console.log("here4");
</script>